
<% layout("/layouts/boilerPlate") %>


<body>
    <nav class="navbar">
        <div class="logo">GreenApp</div>
        <div class="auth-buttons">
            <button class="btn btn-login" onclick="openModal('login')">Login</button>
            <button class="btn btn-signup" onclick="openModal('signup')">Sign Up</button>
        </div>
    </nav>

    <!-- Main container with employee directory -->
    <div class="container">
        <div class="header">
            <h1 class="page-title">Employee Directory</h1>
            <div class="search-container">
                <span class="search-icon">üîç</span>
                <input type="text" class="search-input" placeholder="Search employees..." id="search-input">
            </div>
        </div>

        <div class="filters">
            <button class="filter-btn active">All</button>
            <button class="filter-btn">Engineering</button>
            <button class="filter-btn">Marketing</button>
            <button class="filter-btn">Design</button>
            <button class="filter-btn">Sales</button>
            <button class="filter-btn">Product</button>
        </div>

        <div class="recycler-view" id="employee-list">
            <!-- Employee cards will be added here -->
            <!-- Empty state shown when not logged in -->
            <div class="empty-state" id="empty-state">
                <div class="empty-icon">üë•</div>
                <div class="empty-text">Login to view the employee directory and manage your team</div>
                <button class="empty-action" onclick="openModal('login')">Login Now</button>
            </div>
        </div>

        <div class="pagination" id="pagination">
            <button class="page-btn disabled">¬´</button>
            <button class="page-btn active">1</button>
            <button class="page-btn">2</button>
            <button class="page-btn">3</button>
            <button class="page-btn">¬ª</button>
        </div>
    </div>

    <!-- Login Modal -->
    <div class="modal" id="login-modal">
        <div class="modal-content">
            <div class="modal-close" onclick="closeModal('login')">&times;</div>
            <h2 class="modal-title">Login</h2>
            <form id="login-form">
                <div class="form-group">
                    <label class="form-label" for="login-email">Email</label>
                    <input class="form-input" type="email" id="login-email" placeholder="Enter your email" required>
                </div>
                <div class="form-group">
                    <label class="form-label" for="login-password">Password</label>
                    <input class="form-input" type="password" id="login-password" placeholder="Enter your password" required>
                </div>
                <button class="form-submit" type="submit">Login</button>
            </form>
        </div>
    </div>

    <!-- Signup Modal -->
    <div class="modal" id="signup-modal">
        <div class="modal-content">
            <div class="modal-close" onclick="closeModal('signup')">&times;</div>
            <h2 class="modal-title">Sign Up</h2>
            <form  id="signup-form" action="/signup" method="post" >
                <div class="form-group">
                    <label class="form-label"  for="signup-name">username</label>
                    <input class="form-input" name="username" type="text" id="signup-name" placeholder="Enter your full name" required>
                </div>
                <div class="form-group">
                    <label class="form-label"  for="signup-email">Email</label>
                    <input class="form-input" name="email" type="email" id="signup-email" placeholder="Enter your email" required>
                </div>
                <div class="form-group">
                    <label class="form-label" for="signup-password">Password</label>
                    <input class="form-input" name="password" type="password" id="signup-password" placeholder="Create a password" required>
                </div>
                <button class="form-submit" type="submit">Create Account</button>
            </form>
        </div>
    </div>
</body>


<script>
    // Sample employee data
    const employees = [
        {
            id: 1,
            name: "John Smith",
            position: "Senior Software Engineer",
            department: "Engineering",
            salary: 115000,
            email: "john.smith@company.com",
            phone: "(555) 123-4567",
            location: "San Francisco, CA",
            startDate: "Mar 15, 2019"
        },
        {
            id: 2,
            name: "Emily Johnson",
            position: "UI/UX Designer",
            department: "Design",
            salary: 95000,
            email: "emily.johnson@company.com",
            phone: "(555) 234-5678",
            location: "New York, NY",
            startDate: "Jun 10, 2020"
        },
        {
            id: 3,
            name: "Michael Williams",
            position: "Marketing Manager",
            department: "Marketing",
            salary: 105000,
            email: "michael.williams@company.com",
            phone: "(555) 345-6789",
            location: "Chicago, IL",
            startDate: "Jan 22, 2018"
        },
        {
            id: 4,
            name: "Jessica Brown",
            position: "Product Manager",
            department: "Product",
            salary: 120000,
            email: "jessica.brown@company.com",
            phone: "(555) 456-7890",
            location: "Seattle, WA",
            startDate: "Nov 5, 2017"
        },
        {
            id: 5,
            name: "David Miller",
            position: "Data Scientist",
            department: "Engineering",
            salary: 125000,
            email: "david.miller@company.com",
            phone: "(555) 567-8901",
            location: "Austin, TX",
            startDate: "Jul 30, 2019"
        },
        {
            id: 6,
            name: "Sarah Wilson",
            position: "Sales Representative",
            department: "Sales",
            salary: 85000,
            email: "sarah.wilson@company.com",
            phone: "(555) 678-9012",
            location: "Denver, CO",
            startDate: "Feb 18, 2021"
        },
        {
            id: 7,
            name: "Robert Taylor",
            position: "Frontend Developer",
            department: "Engineering",
            salary: 98000,
            email: "robert.taylor@company.com",
            phone: "(555) 789-0123",
            location: "Portland, OR",
            startDate: "Sep 3, 2020"
        },
        {
            id: 8,
            name: "Amanda Martinez",
            position: "Content Strategist",
            department: "Marketing",
            salary: 90000,
            email: "amanda.martinez@company.com",
            phone: "(555) 890-1234",
            location: "Miami, FL",
            startDate: "Apr 11, 2019"
        }
    ];

    let isLoggedIn = false;
    let currentFilter = 'All';
    let searchTerm = '';

    // Function to format salary
    function formatSalary(salary) {
        return '$' + salary.toLocaleString();
    }

    // Function to get initials from name
    function getInitials(name) {
        return name.split(' ').map(n => n[0]).join('');
    }

    


// Function to render employee list
function renderEmployees() {
    const employeeList = document.getElementById('employee-list');
    const emptyState = document.getElementById('empty-state');
    const pagination = document.getElementById('pagination');
    
    // Always show data regardless of login status
    emptyState.style.display = 'none';
    
    const filteredEmployees = filterEmployees();
    pagination.style.display = filteredEmployees.length > 0 ? 'flex' : 'none';
    
    employeeList.innerHTML = '';
    
    if (filteredEmployees.length === 0) {
        const noResults = document.createElement('div');
        noResults.className = 'empty-state';
        noResults.innerHTML = `
            <div class="empty-icon">üîé</div>
            <div class="empty-text">No employees found. Try adjusting your filters or search term.</div>
        `;
        employeeList.appendChild(noResults);
        return;
    }
    
    filteredEmployees.forEach(employee => {
        const card = document.createElement('div');
        card.className = 'employee-card';
        card.innerHTML = `
            <div class="employee-avatar">${getInitials(employee.name)}</div>
            <div class="employee-info">
                <div class="employee-name">${employee.name}</div>
                <div class="employee-position">${employee.position}</div>
                <div class="employee-details">
                    <div class="detail-item">
                        <span class="detail-icon">üìß</span>
                        <span class="detail-value">${employee.email}</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-icon">üì±</span>
                        <span class="detail-value">${employee.phone}</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-icon">üìç</span>
                        <span class="detail-value">${employee.location}</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-icon">üóì</span>
                        <span class="detail-label">Started:</span>
                        <span class="detail-value">${employee.startDate}</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-icon">üè¢</span>
                        <span class="detail-value">${employee.department}</span>
                    </div>
                </div>
            </div>
            <div class="employee-action">
                <div class="salary">${formatSalary(employee.salary)}</div>
                <button class="view-btn">View Profile</button>
            </div>
        `;
        employeeList.appendChild(card);
¬†¬†¬†¬†});
}
    // Function to open modal
    function openModal(type) {
        const modal = document.getElementById(`${type}-modal`);
        modal.style.display = 'flex';
    }

    // Function to close modal
    function closeModal(type) {
        const modal = document.getElementById(`${type}-modal`);
        modal.style.display = 'none';
    }

    // Add event listener for search
    document.getElementById('search-input').addEventListener('input', function(e) {
        searchTerm = e.target.value;
        renderEmployees();
    });

    // Add event listeners for filter buttons
    const filterButtons = document.querySelectorAll('.filter-btn');
    filterButtons.forEach(button => {
        button.addEventListener('click', function() {
            // Remove active class from all buttons
            filterButtons.forEach(btn => btn.classList.remove('active'));
            
            // Add active class to clicked button
            this.classList.add('active');
            
            // Update current filter
            currentFilter = this.textContent;
            renderEmployees();
        });
    });

    // Handle login form submission
    document.getElementById('login-form').addEventListener('submit', function(e) {
        e.preventDefault();
        isLoggedIn = true;
        closeModal('login');
        renderEmployees();
    });

    // Handle signup form submission
    // document.getElementById('signup-form').addEventListener('submit', function(e) {
    //     e.preventDefault();
    //     isLoggedIn = true;
    //     closeModal('signup');
    //     renderEmployees();
    // });

    // Close modal when clicking outside
    window.addEventListener('click', function(e) {
        const loginModal = document.getElementById('login-modal');
        const signupModal = document.getElementById('signup-modal');
        
        if (e.target === loginModal) {
            closeModal('login');
        }
        
        if (e.target === signupModal) {
            closeModal('signup');
        }
    });

    // Initial render
    renderEmployees();
</script>